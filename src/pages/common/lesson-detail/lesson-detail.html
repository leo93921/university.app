<!--
  Generated template for the LessonDetailPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-title>{{lesson.subject.name}}</ion-title>
  </ion-navbar>
</ion-header>

<ion-content>

  <ion-card>
    <div>
      <img id="map_canvas" />
    </div>
    <ion-card-content>
      <ion-card-title>{{ lesson.subject.name }}</ion-card-title>
      <p>The lesson starts at {{ lesson.timeSlot.startTime | date:'d MMM, HH:mm' }} and ends at {{ lesson.timeSlot.endTime | date:'HH:mm'
        }}. It is in the classroom {{ lesson.classroom.name }}.
      </p>
    </ion-card-content>

    <button class="no-margin-bottom" ion-button (click)="selectLesson(lesson)" full>Rate this lesson</button>
  </ion-card>

  <ion-card *ngIf="documents.length === 0">
    <ion-card-content>
      No documents avaiable for this lesson.
    </ion-card-content>
  </ion-card>

  <ion-card *ngFor="let d of documents; let index = index">
    <ion-card-header>
      <span class="text-bold">{{d.name}}</span>
    </ion-card-header>
    <ion-card-content>
      <p>{{d.note}}</p>
      <p class="text-grey"><small>Published on {{d.publishDate | date:'d MMM, HH:mm'}}</small></p>
    </ion-card-content>
    <ion-row>
        <ion-col>
          <button ion-button clear large full (click)="downloadFile(d)">
            <ion-icon name="ios-cloud-download" class="text-center"></ion-icon>
          </button>
        </ion-col>
        <ion-col>
          <button ion-button clear class="text-center" large full (click)="selectDocument(d)">
            <ion-icon name="ios-text" class="text-center"></ion-icon>
          </button>
        </ion-col>
      </ion-row>
  </ion-card>

</ion-content>
